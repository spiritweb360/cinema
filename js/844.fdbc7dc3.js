"use strict";(self["webpackChunkciniphile"]=self["webpackChunkciniphile"]||[]).push([[844],{1341:function(t,n,e){e.d(n,{Z:function(){return L}});var o=e(6252),i=e(3577);const s={class:"container"},a={class:"main__content"},l={class:"main__content-title"},c={class:"main__content-list"},r={key:0,class:"loading"},u=(0,o._)("div",{class:"loading__spiner"},null,-1),p=[u];function d(t,n,e,u,d,m){const g=(0,o.up)("ContentItem");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",a,[(0,o._)("h2",l,(0,i.zw)("movie"==e.content?"Все фильмы":"Все сериалы"),1),(0,o._)("div",c,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(d.allContent,(t=>((0,o.wg)(),(0,o.j4)(g,{key:t.id,item:t,content:e.content},null,8,["item","content"])))),128))])]),d.loading?((0,o.wg)(),(0,o.iD)("div",r,p)):(0,o.kq)("",!0)])}e(7658);const m={alt:"",class:"main__content-img"},g={class:"main__content-name"};function h(t,n,e,s,a,l){const c=(0,o.up)("router-link"),r=(0,o.Q2)("lazy");return(0,o.wg)(),(0,o.j4)(c,{to:"#",class:"main__content-item"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("img",m,null,512),[[r,t.imageFullUrL+e.item.backdrop_path]]),(0,o._)("h2",g,(0,i.zw)(e.item.title||e.item.name),1)])),_:1})}var v=e(3907),_={props:["content","item"],computed:{...(0,v.rn)(["imageFullUrL"])}},w=e(3744);const f=(0,w.Z)(_,[["render",h]]);var C=f,k={components:{ContentItem:C},props:["content"],data(){return{page:1,loading:!1,allContent:[]}},mounted(){window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.getContent()})),this.getContent()},computed:{...(0,v.rn)("popularMovies",["popularMovies"]),...(0,v.rn)("popularTvs",["popularTvs"])},methods:{async getContent(){if(!this.loading){this.loading=!0;let t="movie"==this.content?"popularMovies/getPopular":"popularTvs/getPopular";await this.$store.dispatch(`${t}`,this.page);let n="movie"==this.content?this.popularMovies:this.popularTvs;this.allContent.push(...n),this.loading=!1,this.page++}}}};const y=(0,w.Z)(k,[["render",d]]);var L=y},5844:function(t,n,e){e.r(n),e.d(n,{default:function(){return u}});var o=e(6252);const i={class:"main"};function s(t,n,e,s,a,l){const c=(0,o.up)("ContentList");return(0,o.wg)(),(0,o.iD)("main",i,[(0,o.Wm)(c,{content:"tv"})])}var a=e(1341),l={components:{ContentList:a.Z}},c=e(3744);const r=(0,c.Z)(l,[["render",s]]);var u=r}}]);
//# sourceMappingURL=844.fdbc7dc3.js.map